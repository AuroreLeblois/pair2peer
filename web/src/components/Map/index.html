<!DOCTYPE html>
<html lang="en">
<head>
	<title>Map Leaflet</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
	<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>

	
</head>




<body>

	<div id="mapid" style="width: 500px; height: 300px;"></div>

	<script>
	

	// CENTRAGE DE LA MAP

	// Attention avec geojson.io on recup les valeurs inversés. ([Lat/long], taille du zoom)

	var mymap = L.map('mapid')
	.setView([48.84664340683584,2.3455810546875], 12);
	
	
	L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZ2lpcyIsImEiOiJjazl2YmRheXgwNmVwM21sZW80NG55ZTRnIn0.P1pdw_RxFZK96QYO4bOTqg', {
	attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
    maxZoom: 18,
    id: 'mapbox/streets-v11',
	tileSize: 512,
	zoomOffset: -1,
    accessToken:'pk.eyJ1IjoiZ2lpcyIsImEiOiJjazl2YmRheXgwNmVwM21sZW80NG55ZTRnIn0.P1pdw_RxFZK96QYO4bOTqg',
	}).addTo(mymap);
	

	// CERCLE DE RECHERCHE 

	// Cercle pouvant représenter le cercle de recherche d'un utilisateur ??? 
	// 50km = cercle de rayon 50 etc ???

	L.circle([48.84664340683584,2.3455810546875], 2000, {
		color:'#FFF',
		fillColor:'#f03',
		fillOpacity: 0.5
	}).addTo(mymap).bindPopup("Zone de recherche");


	// MARQUEUR DE POSITION 

	// Données brutes remplaçables par la suite ? Lors de l'inscription / login / recherche
	L.marker([48.84664340683584,2.3455810546875])
		.addTo(mymap)
		.bindPopup("Vous etes ici");


	// Clique sur map pour récup Lat/Long
	var popup = L.popup();

	// Clique sur map créant un cercle de ?? km/m autour
	// var zone = L.circleMarker();

	
	function onMapClick(e) {
		popup
		.setLatLng(e.latlng)
		.setContent("Vous avez cliqué à " + e.latlng.toString())
		.openOn(mymap);
		
	}

	mymap.on('click', onMapClick);

	</script>
	
</body>
</html>
